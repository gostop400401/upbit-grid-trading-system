# Discord 명령어 추천 및 설계 요약

## 📋 추천 명령어 체계 개요

총 **17개의 핵심 명령어**를 5개 카테고리로 분류하여 제안했습니다.

---

## 🎯 카테고리별 명령어 목록

### 1️⃣ **기본 제어** (4개)
- `!시작` - 그리드 트레이딩 설정 및 시작
- `!종료` - 시스템 완전 종료
- `!일시정지` - 새 주문 중지 (기존 유지)
- `!재개` - 일시정지 해제

### 2️⃣ **모니터링** (5개) - **가장 중요**
- `!상태` ⭐ - 시스템 전체 상태 (실행 여부, 계약 수, 손익)
- `!포지션` ⭐ - 활성 계약 상세 (진입가, 목표가, 미실현 손익)
- `!주문` - 미체결 주문 현황
- `!수익` ⭐ - 거래 통계 (총 손익, 평균 수익률)
- `!그리드` - 그리드 상태 (빈/활성 그리드 분포)

### 3️⃣ **분석 및 리포트** (3개)
- `!거래내역` [N] - 최근 N개 거래 조회
- `!일일통계` - 오늘 거래 요약
- `!잔고` ⭐ - 계정 잔고 조회

### 4️⃣ **위험 관리** (3개) - **안전 장치**
- `!긴급청산` ⭐ - 모든 포지션 즉시 청산 (재확인 필수)
- `!주문취소` [가격] - 특정 주문 취소
- `!전체주문취소` - 모든 미체결 주문 취소 (재확인 필수)

### 5️⃣ **설정 및 정보** (3개)
- `!설정보기` - 현재 그리드 설정 조회
- `!도움말` ⭐ - 명령어 목록 및 설명
- `!서버상태` - 서버 리소스 모니터링

---

## 🌟 Phase 1 우선 개발 명령어 (8개)

### 필수 구현 명령어
1. **!시작** - 시스템의 진입점
2. **!종료** - 안전한 종료
3. **!상태** - 실시간 모니터링의 핵심
4. **!포지션** - 상세 현황 파악
5. **!수익** - 수익성 추적
6. **!잔고** - 자산 관리
7. **!긴급청산** - 위기 대응
8. **!도움말** - 사용자 가이드

---

## 💡 핵심 설계 원칙

### 1. **직관성**
- 한글 명령어 사용 (접근성 ↑)
- 명령어 이름만 봐도 기능 파악 가능

### 2. **안전성**
- 위험한 작업은 2단계 확인
  - `!긴급청산` → "예상 손익 표시" → "YES 입력"
  - `!전체주문취소` → "주문 목록 표시" → "YES 입력"

### 3. **정보성**
- 실행 결과를 풍부하게 표시
- 예: `!상태` 실행 시
  ```
  📊 시스템 상태
  ├─ 상태: ✅ 실행 중
  ├─ 활성 계약: 9개
  ├─ 미체결 매수: 3개
  └─ 총 실현 손익: +15,230원 (+2.3%)
  ```

### 4. **일관성**
- 비슷한 기능은 비슷한 패턴
  - 조회 명령어: `!상태`, `!포지션`, `!주문`
  - 취소 명령어: `!주문취소`, `!전체주문취소`

### 5. **확장성**
- 향후 추가 기능을 위한 네이밍 체계
  - `!거래내역` [N] - 파라미터 확장 가능
  - `!주문취소` [가격] - 선택적 파라미터

---

## 📊 명령어별 출력 예시

### `!상태` 출력 예시
```
📊 **Upbit Grid Trading 시스템 상태**

🔹 실행 상태: ✅ 실행 중
🔹 코인: KRW-USDT
🔹 현재가: 1,492원

📈 포지션 현황
  ├─ 활성 계약: 9개
  ├─ 미체결 매수: 3개 (1480, 1482, 1484원)
  └─ 평균 진입가: 1,493원

💰 수익 현황
  ├─ 총 실현 손익: +15,230원
  ├─ 수익률: +2.3%
  └─ 오늘 거래: 4회

⏱️ 가동 시간: 2시간 15분
```

### `!포지션` 출력 예시
```
📋 **활성 계약 목록** (총 9개)

Contract #2
├─ 진입가: 1,500원
├─ 목표가: 1,503원 (+3원)
├─ 수량: 4.0 USDT
├─ 미실현 손익: -32원 (-0.5%)
└─ 체결 시간: 12/14 20:24

Contract #3
├─ 진입가: 1,498원
├─ 목표가: 1,501원 (+3원)
├─ 수량: 4.0 USDT
├─ 미실현 손익: -24원 (-0.4%)
└─ 체결 시간: 12/14 20:26

... (7개 더)
```

### `!수익` 출력 예시
```
💰 **거래 통계**

📊 전체 통계
├─ 총 실현 손익: +15,230원
├─ 총 거래 횟수: 47회
├─ 평균 수익률: +0.32%
└─ 승률: 100% (47승 0패)

🏆 최고 거래
├─ 수익금: +542원
├─ 수익률: +0.89%
└─ 일시: 12/14 18:30

📈 오늘 거래
├─ 거래 횟수: 4회
├─ 실현 손익: +1,230원
└─ 평균 수익률: +0.28%
```

---

## 🚀 개발 로드맵

### Phase 1 (1-2일) - 핵심 기능
- [x] `!시작`, `!종료` (이미 구현됨)
- [ ] `!상태` ⭐
- [ ] `!포지션` ⭐
- [ ] `!수익` ⭐
- [ ] `!잔고`
- [ ] `!긴급청산`
- [ ] `!도움말`

### Phase 2 (2-3일) - 편의 기능
- [ ] `!일시정지`, `!재개`
- [ ] `!주문`
- [ ] `!그리드`
- [ ] `!거래내역`
- [ ] `!설정보기`
- [ ] `!주문취소`

### Phase 3 (선택) - 고급 기능
- [ ] `!일일통계`
- [ ] `!전체주문취소`
- [ ] `!서버상태`

---

## 🎨 UI/UX 고려사항

### Discord Embed 활용
- 중요 정보는 Embed로 시인성 향상
- 색상 코드:
  - 🟢 녹색: 성공, 이익
  - 🔴 빨강: 위험, 손실, 경고
  - 🔵 파랑: 정보, 중립
  - 🟡 노랑: 주의

### 이모지 활용
- 📊 통계/상태
- 💰 돈/수익
- 📈 상승/긍정
- 📉 하락/부정
- ⚠️ 경고
- ✅ 성공
- ❌ 실패

### 응답 시간
- 즉시 응답: "처리 중..." 메시지
- 완료 후: 상세 결과 업데이트

---

## ✅ 다음 단계

1. **Phase 1 명령어부터 순차 개발**
   - `!상태` 우선 구현 권장 (가장 많이 사용)
   
2. **Discord Cog 구조 활용**
   - 각 카테고리별로 Cog 분리 고려
   
3. **에러 핸들링 체계 수립**
   - 사용자 입력 오류 처리
   - API 오류 처리
   - 권한 오류 처리

4. **테스트 시나리오 작성**
   - 각 명령어별 테스트 케이스
   - 엣지 케이스 검증
